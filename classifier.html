<html>
  <head>
   <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
  <style>
body {
  font-family: "Hind Siliguri";
}
.outputs {
  display:flex;
  flex-wrap: wrap;
}
.output-1 {
  background-color: #333;
  padding: 10px 20px;
  flex-basis: 47%;
  margin-right: 10px;
  color: white;
    max-width: 47%;
  overflow:scroll;
}
.output-2 {
  flex-basis: 47%;
  background-color: #333;
  color: white;
  padding: 10px 20px;
  max-width: 47%;
  overflow:scroll;
}
.diff-one {
  background-color: #FFAC9A;
  color: white;
}
.diff-two {
  background-color: lightgreen;
  color: white;
}
.function {
  background-color: lightgreen;
  color: black;
  margin-top: 10px;
  padding: 10px 20px;
}
.function-2 {
  background-color: #009fdf;
  color: black;
  margin-top: 10px;
  padding: 10px 20px;
}
.matches {
      position: absolute;
    top: 30px;
    right: 30px;
    background-color: #6cf5a9;
    color: #404040;
    border-radius: 10px;
}
.equal-functions {
    padding: 10px 20px;
}
.equal-functions:not(:last-child) {
    border-bottom: 1px solid #444;
}
.unequal-functions {
    padding: 10px 20px;
  background-color: #F7775B;
  border-radius: 0px 0px 10px 10px;
}
.unequal-functions:not(:last-child) {
    border-bottom: 1px solid #444;
}
  </style>
  <script>
$(document).ready(function(){
  let processing = function(s) {
    s = s.replace(/[\n]+/g, "<br/>");
    s = s.replace(/[\s]{2,}/g, "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;");
    return s;
  }
  $(".difference").click(function(){
    stringOne = $(".inputting-first").val();
    stringTwo = $(".inputting-second").val();
    stringFinal = "";
    stringFinal2 = "";
    let pt2 = 0;
    let array =["val", "def"];
    stringTempOne = stringOne.trim();
    stringTempTwo = stringTwo.trim();
    let functions1 = [];
    let functions2 = [];
    while(true)
      {
        let beginning = stringTempOne.indexOf("def");
        stringTempOne = stringTempOne.substring(beginning, stringTempOne.length)
        console.log(stringTempOne)
        if(beginning < 0)
          break;
       if(stringTempOne.substring(beginning+1, stringTempOne.length).indexOf("def")>= 0)
       {
         
          functionImplementation = processing(stringTempOne.substring(0, stringTempOne.substring(2, stringTempOne.length).indexOf("def")).trim());
           let stringTempOnePartial = stringTempOne.substring(3, stringTempOne.length).trim();
           let positionOpeningBraces = stringTempOnePartial.indexOf("(");
           
         functionName = stringTempOnePartial.substring(0, positionOpeningBraces);
         functions1.push({functionImplementation : functionImplementation, functionName: functionName});
         console.log(functionImplementation + " <<<>>>  " + functionName)
         
       }
        
         if(beginning + 3 > stringTempOne.length)
          {
            break;
          }
        let wholeString = stringTempOne.substring(beginning + 1, stringTempOne.length);
         if(wholeString.indexOf("def")< 0)
         {
           functionImplementation = processing(stringTempOne.substring(0, stringTempOne.length).trim());
           let stringTempOnePartial1 = stringTempOne.substring(3, stringTempOne.length).trim();
           let positionOpeningBraces = stringTempOnePartial1.indexOf("(");
           
         functionName = stringTempOnePartial1.substring(0, positionOpeningBraces).trim();
         functions1.push({functionImplementation : functionImplementation, functionName: functionName});
         }
        
        if(stringTempOne.substring(beginning + 3, stringTempOne.length).indexOf("def")< 0)
          {
            break;
          }
        
       
        if(stringTempOne.substring(beginning + 3, stringTempOne.length).indexOf("def") >= 0)
          {
            let lengthy = stringTempOne.length;
          let stringPartial1 = stringTempOne.substring(beginning + 3, lengthy).indexOf("def");
          stringTempOne = stringTempOne.substring(stringPartial1, stringTempOne.length);
          }
        else
          stringTempOne = stringTempOne.substring(beginning, stringTempOne.length);
        
        console.log(stringTempOne);
      }
    
    while(true)
      {
        
                let beginning = stringTempTwo.indexOf("def");
        stringTempTwo = stringTempTwo.substring(beginning, stringTempTwo.length)
        console.log(stringTempTwo)
        if(beginning < 0)
          break;
       if(stringTempTwo.substring(beginning+1, stringTempTwo.length).indexOf("def")>= 0)
       {
         
          functionImplementation = processing(stringTempTwo.substring(0, stringTempTwo.substring(2, stringTempTwo.length).indexOf("def")).trim());
           let stringTempOnePartial = stringTempTwo.substring(3, stringTempTwo.length).trim();
           let positionOpeningBraces = stringTempOnePartial.indexOf("(");
           
         functionName = stringTempOnePartial.substring(0, positionOpeningBraces);
         functions2.push({functionImplementation : functionImplementation, functionName: functionName});
         console.log(functionImplementation + " <<<>>>  " + functionName)
         
       }
        
         if(beginning + 3 > stringTempTwo.length)
          {
            break;
          }
        let wholeString = stringTempTwo.substring(beginning + 1, stringTempTwo.length);
         if(wholeString.indexOf("def")< 0)
         {
           functionImplementation = processing(stringTempTwo.substring(0, stringTempTwo.length).trim());
           let stringTempOnePartial1 = stringTempTwo.substring(3, stringTempTwo.length).trim();
           let positionOpeningBraces = stringTempOnePartial1.indexOf("(");
           
         functionName = stringTempOnePartial1.substring(0, positionOpeningBraces).trim();
         functions2.push({functionImplementation : functionImplementation, functionName: functionName});
         }
        
        if(stringTempTwo.substring(beginning + 3, stringTempTwo.length).indexOf("def")< 0)
          {
            break;
          }
        
       
        if(stringTempTwo.substring(beginning + 3, stringTempTwo.length).indexOf("def") >= 0)
          {
            let lengthy = stringTempTwo.length;
          let stringPartial1 = stringTempTwo.substring(beginning + 3, lengthy).indexOf("def");
          stringTempTwo = stringTempTwo.substring(stringPartial1, stringTempTwo.length);
          }
        else
          stringTempTwo = stringTempTwo.substring(beginning, stringTempTwo.length);
        
        console.log(stringTempTwo);
        
        
      }
    
    firstProgram = "";
    for(ptr = 0; ptr < functions1.length; ptr++)
      {
        firstProgram += "<div class='function function-implementations" + functions1[ptr].functionName + "'>" + functions1[ptr].functionName + "</div>" +
          "<div class='function-implementation'>" + functions1[ptr].functionImplementation + "</div>";
      }
    
    secondProgram = "";
    for(ptr = 0; ptr < functions2.length; ptr++)
      {
        secondProgram += "<div class='function-2 function-2"+ functions2[ptr].functionName +"'>" + functions2[ptr].functionName + "</div>"+ "<div class='function-2-implementation'>" + functions2[ptr].functionImplementation + "</div>";
      }
    $(".output-1").html(firstProgram);
    $(".output-2").html(secondProgram);
    
    let equalFunctions = [];
    let unequalFunctions = [];
    for(let ptr = 0; ptr < functions2.length; ptr++)
      {
        for(let ptr1 = 0; ptr1 < functions1.length; ptr1++)
          {
            if(functions1[ptr1].functionName == functions2[ptr].functionName)
              {
                if(functions1[ptr1].functionImplementation == functions2[ptr].functionImplementation)
                  {
                    equalFunctions.push(functions1[ptr1].functionName);
                  }
                else
                  {
                    unequalFunctions.push(functions1[ptr1].functionName);
                  }
              }
          }
      }
    
    let equalHtml = "";
    for(let mov = 0; mov < equalFunctions.length; mov++)
      {
        equalHtml += "<div class='equal-functions equal-function-"+ mov +"'>" + equalFunctions[mov] + "</div>";
      }
    for(let mov = 0; mov < unequalFunctions.length; mov++)
      {
        equalHtml += "<div class='unequal-functions unequal-function-"+ mov +"'>" + unequalFunctions[mov] + "</div>";
      }
    $(".matches").html(equalHtml);
  })
})
  </script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300&display=swap" rel="stylesheet">
  </head>
  <body>
    <textarea class="inputting-first" rows="30" cols="70"></textarea>
    <textarea class="inputting-second" rows="30" cols="70"></textarea>
    <input class="difference" type="submit" value="Difference"/>
    <div class="outputs">
      <div class="output-1">
        Hello
      </div>
       <div class="output-2">
        Hello
      </div>
    </div>
    <div class="matches">
    </div>
  </body>
</html>
